(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[775],{7605:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/idea",function(){return a(9722)}])},9722:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return T}});var i=a(5893),r=a(4523),s=a(7294),t=a(9041),l=a(6817),o=Object.defineProperty,d=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(e,n,a)=>n in e?o(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,m=(e,n)=>{for(var a in n||(n={}))c.call(n,a)&&p(e,a,n[a]);if(d)for(var a of d(n))u.call(n,a)&&p(e,a,n[a]);return e},x=(0,l.k)((e,{spacing:n,breakpoints:a,cols:i,verticalSpacing:r})=>{let s=null!=r,t=(function(e,n){if(0===n.length)return n;let a="maxWidth"in n[0]?"maxWidth":"minWidth",i=[...n].sort((n,i)=>e.fn.size({size:i[a],sizes:e.breakpoints})-e.fn.size({size:n[a],sizes:e.breakpoints}));return"minWidth"===a?i.reverse():i})(e,a).reduce((a,i)=>{let t="maxWidth"in i?"max-width":"min-width",l=e.fn.size({size:"max-width"===t?i.maxWidth:i.minWidth,sizes:e.breakpoints});return a[`@media (${t}: ${l-("max-width"===t?1:0)}px)`]={gridTemplateColumns:`repeat(${i.cols}, minmax(0, 1fr))`,gap:`${e.fn.size({size:i.verticalSpacing||(s?r:n),sizes:e.spacing})}px ${e.fn.size({size:i.spacing||n,sizes:e.spacing})}px`},a},{});return{root:m({boxSizing:"border-box",display:"grid",gridTemplateColumns:`repeat(${i}, minmax(0, 1fr))`,gap:`${e.fn.size({size:s?r:n,sizes:e.spacing})}px ${e.fn.size({size:n,sizes:e.spacing})}px`},t)}}),h=Object.defineProperty,g=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,j=(e,n,a)=>n in e?h(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,w=(e,n)=>{for(var a in n||(n={}))f.call(n,a)&&j(e,a,n[a]);if(g)for(var a of g(n))b.call(n,a)&&j(e,a,n[a]);return e},v=(e,n)=>{var a={};for(var i in e)f.call(e,i)&&0>n.indexOf(i)&&(a[i]=e[i]);if(null!=e&&g)for(var i of g(e))0>n.indexOf(i)&&b.call(e,i)&&(a[i]=e[i]);return a};let y={breakpoints:[],cols:1,spacing:"md"},z=(0,s.forwardRef)((e,n)=>{let a=(0,t.N4)("SimpleGrid",y,e),{className:i,breakpoints:l,cols:o,spacing:d,verticalSpacing:c,children:u,unstyled:p}=a,m=v(a,["className","breakpoints","cols","spacing","verticalSpacing","children","unstyled"]),{classes:h,cx:g}=x({breakpoints:l,cols:o,spacing:d,verticalSpacing:c},{unstyled:p,name:"SimpleGrid"});return s.createElement(r.x,w({className:g(h.root,i),ref:n},m),u)});z.displayName="@mantine/core/SimpleGrid";var S=a(7564),_=a(7841),C=a(8049),k=a(61),N=a(3723),O=a(5117),E=a(4777),P=a(9876),$=a(1232),W=a(9834),I=a(4053),K=a(3991);function T(){let e=(0,I.useSupabaseClient)(),n=(0,I.useUser)(),[a,t]=(0,s.useState)(!1),[l,o]=(0,s.useState)(""),[d,c]=(0,s.useState)([]),[u,p]=(0,s.useState)(null),[m,x]=(0,s.useState)(!1),[h,g]=(0,s.useState)(""),[f,b]=(0,s.useState)([]),[j,w]=(0,s.useState)(null),[v,y]=(0,s.useState)(!1),[T,F]=(0,s.useState)(""),[G,q]=(0,s.useState)([]),[A,D]=(0,s.useState)(null),[H,L]=(0,s.useState)(!1),[U,X]=(0,s.useState)(""),[R,Z]=(0,s.useState)(""),[B,J]=(0,s.useState)(""),[M,Q]=(0,s.useState)(""),[V,Y]=(0,s.useState)([]),[ee,en]=(0,s.useState)(!1),[ea,ei]=(0,s.useState)(null),[er,es]=(0,s.useState)(0);async function et(){let{data:n,error:a}=await e.from("role").select("*").order("id",{ascending:!1});a?c([]):c(n)}async function el(n){if(n){let{data:a,error:i}=await e.from("trouble").select("*").eq("role_id",n.id).order("id",{ascending:!1});i?b([]):b(a)}}async function eo(){let{data:n,error:a}=await e.from("superpower").select("*").order("id",{ascending:!1});a?q([]):q(n)}async function ed(){let{data:n,error:a}=await e.from("idea_view").select("*").order("id",{ascending:!1});a?Y([]):Y(n)}return(0,s.useEffect)(()=>{et(),eo(),ed(),es(window.innerHeight/2);let e=()=>{es(window.innerHeight/2)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,i.jsxs)(r.x,{component:"div",children:[(0,i.jsxs)(z,{cols:3,children:[(0,i.jsxs)(S.K,{component:"div",className:"bg-cyan-50",children:[(0,i.jsx)(_.z,{onClick:()=>t(!0),children:"add"}),(0,i.jsxs)(C.u,{opened:a,onClose:()=>t(!1),children:[(0,i.jsx)(k.o,{label:"角色",placeholder:"...的人 ...的用户 ...爱好者",value:l,onChange:e=>o(e.target.value)}),(0,i.jsx)(_.z,{disabled:!l,onClick:async()=>{await e.from("role").insert([{user_id:n.id,role_name:l}]),t(!1),o(""),et()},children:"Submit"})]}),(0,i.jsx)(N.x,{sx:{height:"".concat(er-100,"px")},children:d.map(e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O.x,{mx:"xs",fz:"sm",style:{backgroundColor:u&&u.id===e.id?"rgb(6 182 212)":"transparent",cursor:"pointer"},onClick:()=>{p(e),el(e)},children:e.role_name},e.id),(0,i.jsx)(E.i,{my:"xs",variant:"dashed"})]}))})]}),(0,i.jsxs)(S.K,{component:"div",h:"auto",className:"bg-sky-50",children:[(0,i.jsx)(_.z,{disabled:!u,onClick:()=>x(!0),children:"add"}),(0,i.jsxs)(C.u,{opened:m,onClose:()=>x(!1),children:[(0,i.jsx)(k.o,{label:"Trouble",placeholder:"...很慢 ...很烦 ...很多 ...很难",value:h,onChange:e=>g(e.target.value)}),(0,i.jsx)(_.z,{disabled:!h,onClick:async()=>{await e.from("trouble").insert([{user_id:n.id,role_id:u.id,trouble_name:h}]),x(!1),el(u),g("")},children:"Submit"})]}),(0,i.jsx)(N.x,{sx:{height:"".concat(er-100,"px")},children:f.map(e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O.x,{mx:"xs",fz:"sm",style:{backgroundColor:j&&j.id===e.id?"rgb(14 165 233)":"transparent",cursor:"pointer"},onClick:()=>{w(e)},children:e.trouble_name},e.id),(0,i.jsx)(E.i,{my:"xs",variant:"dashed"})]}))})]}),(0,i.jsxs)(S.K,{component:"div",h:"auto",className:"bg-red-50 ",children:[(0,i.jsx)(_.z,{onClick:()=>y(!0),children:"add"}),(0,i.jsxs)(C.u,{opened:v,onClose:()=>y(!1),children:[(0,i.jsx)(k.o,{label:"Superpower",placeholder:"因为..SDK..算法能干..",value:T,onChange:e=>F(e.target.value)}),(0,i.jsx)(_.z,{disabled:!T,onClick:async()=>{await e.from("superpower").insert([{user_id:n.id,superpower_name:T}]),y(!1),eo(),F("")},children:"Submit"})]}),(0,i.jsx)(N.x,{sx:{height:"".concat(er-100,"px")},children:G.map(e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O.x,{mx:"xs",fz:"sm",style:{backgroundColor:A&&A.id===e.id?"rgb(239 68 68)":"transparent",cursor:"pointer"},onClick:()=>{D(e)},children:e.superpower_name},e.id),(0,i.jsx)(E.i,{my:"xs",variant:"dashed"})]}))})]})]}),(0,i.jsxs)(P.k,{className:"w-full",justify:"center",align:"center",direction:"row",wrap:"nowrap",children:[(0,i.jsx)(_.z,{mx:"sm",disabled:!(u&&j&&A),onClick:()=>{L(!0)},children:"add idea"}),(0,i.jsxs)(C.u,{opened:H,onClose:()=>L(!1),children:[(0,i.jsx)(k.o,{label:"New Insight",placeholder:"可以让..来干..",value:R,onChange:e=>Z(e.target.value)}),(0,i.jsx)(k.o,{label:"Idea Name",placeholder:"从而使用户...",value:U,onChange:e=>X(e.target.value)}),(0,i.jsx)(k.o,{label:"Advantage",placeholder:"我适合做这个产品因为..",value:B,onChange:e=>J(e.target.value)}),(0,i.jsx)(k.o,{label:"Keyword",placeholder:"推广用的关键词",value:M,onChange:e=>Q(e.target.value)}),(0,i.jsx)(_.z,{onClick:async()=>{await e.from("idea").insert([{user_id:n.id,superpower_id:A.id,role_id:u.id,trouble_id:j.id,idea_name:U,new_insight:R,advantage:B,keyword:M}]),L(!1),ed(),Z(""),X(""),J(""),Q("")},children:"Submit"})]})]}),(0,i.jsx)(N.x,{className:"bg-teal-50 ",sx:{height:"".concat(er-40,"px")},children:V.map(e=>(0,i.jsxs)(r.x,{component:"div",className:"w-full",children:[(0,i.jsx)(E.i,{my:"sm",variant:"dashed"}),(0,i.jsxs)($.Z,{children:[(0,i.jsx)(W.A,{ml:"sm",color:"blue",radius:"xl",variant:"light",onClick:async()=>{ei(e),en(!0)},children:(0,i.jsx)(K.jgU,{size:"1.125rem"})}),(0,i.jsx)(O.x,{fz:"sm",c:"dark",className:"w-[90%]",children:"".concat(e.role_name," ").concat(e.trouble_name,".因为").concat(e.superpower_name,",所以可以").concat(e.new_insight,",从而").concat(e.idea_name,".我适合做这个产品因为").concat(e.advantage,".产品推广关键词如下:").concat(e.keyword)})]})]}))}),(0,i.jsx)(C.u,{opened:ee,onClose:()=>en(!1),children:ea&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(_.z,{onClick:async()=>{await e.from("idea").delete().eq("id",ea.id),en(!1),ed()},children:"Delete Idea"})})})]})}}},function(e){e.O(0,[584,402,774,888,179],function(){return e(e.s=7605)}),_N_E=e.O()}]);