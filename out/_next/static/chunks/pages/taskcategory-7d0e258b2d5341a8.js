(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[101],{4142:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/taskcategory",function(){return t(3880)}])},3880:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var a=t(5893),l=t(8903),n=t(7294),o=t(7414),r=t(6980),c=t(7841),i=t(5117),u=t(9834),m=t(4053),d=t(3991);function p(){let e=(0,m.useSupabaseClient)(),s=(0,m.useUser)(),t=(0,l.c)({initialValues:{taskCategory:"",taskName:"",taskPower:""}}),[p,f]=(0,n.useState)();function k(){e.from("tasks").select("*").then(e=>{f(e.data)})}return(0,n.useEffect)(()=>{k()},[]),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("h3",{children:"任务分类"}),(0,a.jsx)(o.x,{className:"w-full",children:(0,a.jsxs)("form",{onSubmit:t.onSubmit(async t=>{console.log(t);let{data:a,error:l}=await e.from("tasks").insert([{category_name:t.taskCategory,power:t.taskPower,task_name:t.taskName,user_id:null==s?void 0:s.id}]);console.log(a),console.log(l),k()}),children:[(0,a.jsx)(r.o,{label:"任务类别",placeholder:"不同类别的任务权重不一样",...t.getInputProps("taskCategory")}),(0,a.jsx)(r.o,{label:"任务简介",placeholder:"该类别当前执行中的任务",mt:"md",...t.getInputProps("taskName")}),(0,a.jsx)(r.o,{type:"number",label:"权重",placeholder:"权重越高被分配的概率越大",mt:"md",...t.getInputProps("taskPower")}),(0,a.jsx)(c.z,{type:"submit",mt:"md",children:"Submit"})]})}),null==p?void 0:p.map(s=>(0,a.jsxs)("div",{className:"mt-2 mr-2 pt-2 pb-2 flex flex-row justify-center items-center bg-blue-100 rounded-sm",children:[(0,a.jsx)(i.x,{span:!0,className:"mr-2",children:s.category_name}),(0,a.jsx)(i.x,{span:!0,className:"mr-2",children:s.task_name}),(0,a.jsx)(i.x,{span:!0,className:"mr-2",children:s.power}),(0,a.jsx)(u.A,{color:"red",variant:"filled",onClick:async()=>{let{data:t,error:a}=await e.from("tasks").delete().eq("id",s.id);console.log(t),console.log(a),k()},children:(0,a.jsx)(d.vml,{size:16})})]},s.id))]})}}},function(e){e.O(0,[584,974,774,888,179],function(){return e(e.s=4142)}),_N_E=e.O()}]);